{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block body %}
<div class="row justify-content-center">
    <div class="col-md-8 form-container">
        <div class="card shadow-sm">
            <div class="card-body p-5">
                <div class="text-center mb-4">
                    <i class="fas fa-user-plus fa-3x text-primary mb-3"></i>
                    <h1 class="h3 font-weight-normal">Créer un compte</h1>
                </div>

                {{ form_start(registrationForm, {
                    'attr': {
                        'class': 'needs-validation',
                        'novalidate': 'novalidate'
                    }
                }) }}

                <div class="row g-3">
                    <!-- Nom et Prénom -->
                    <div class="col-md-6">
                        {{ form_row(registrationForm.nom, {
                                'label': 'Nom',
                                'attr': {
                                    'class': 'form-control',
                                    'placeholder': 'Dupont'
                                },
                                'row_attr': {'class': 'form-group'}
                            }) }}
                    </div>

                    <div class="col-md-6">
                        {{ form_row(registrationForm.prenom, {
                                'label': 'Prénom',
                                'attr': {
                                    'class': 'form-control',
                                    'placeholder': 'Jean'
                                },
                                'row_attr': {'class': 'form-group'}
                            }) }}
                    </div>

                    <!-- Email et Username -->
                    <div class="col-12">
                        {{ form_row(registrationForm.email, {
                                'attr': {
                                    'class': 'form-control',
                                    'placeholder': 'exemple@email.com'
                                },
                                'row_attr': {'class': 'form-group'}
                            }) }}
                    </div>

                    <div class="col-12">
                        {{ form_row(registrationForm.username, {
                                'label': "Nom d'utilisateur",
                                'attr': {
                                    'class': 'form-control',
                                    'placeholder': 'jean.dupont'
                                },
                                'row_attr': {'class': 'form-group'}
                            }) }}
                    </div>

                    <!-- Mot de passe -->
                    <div class="col-md-6">
                        {{ form_row(registrationForm.plainPassword.first, {
                                'label': 'Mot de passe',
                                'attr': {
                                    'class': 'form-control',
                                    'id': 'password',
                                    'placeholder': '••••••••'
                                },
                                'row_attr': {'class': 'form-group'}
                            }) }}
                        <button type="button" class="btn btn-sm password-toggle" data-target="password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>

                    <div class="col-md-6">
                        {{ form_row(registrationForm.plainPassword.second, {
                                'label': 'Confirmation',
                                'attr': {
                                    'class': 'form-control',
                                    'id': 'confirmPassword',
                                    'placeholder': '••••••••'
                                },
                                'row_attr': {'class': 'form-group'}
                            }) }}
                        <button type="button" class="btn btn-sm password-toggle" data-target="password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>

                    <!-- Conditions -->
                    <div class="col-12">
                        {{ form_row(registrationForm.agreeTerms, {
                                'label': "J'accepte les conditions d'utilisation",
                                'row_attr': {'class': 'form-check mb-3'}
                            }) }}
                    </div>

                    <!-- Bouton -->
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="fas fa-user-plus me-2"></i> S'inscrire
                        </button>
                    </div>

                    <!-- Lien connexion -->
                    <div class="col-12 text-center mt-3">
                        <a href="{{ path('app_login') }}" class="text-decoration-none">
                            Déjà un compte ? Connectez-vous
                        </a>
                    </div>
                </div>

                {{ form_end(registrationForm) }}
            </div>
        </div>
    </div>
</div>
{% endblock %}